<?xml version="1.0" encoding="UTF-8"?>
<exportedData xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="commander.xsd" version="40" buildLabel="build_3.6_32209_OPT_2010.04.23_23:02:25" buildVersion="3.6.0.32209">
  <exportPath>/projects/EC-Gerrit</exportPath>
  <project>
    <projectName>EC-Gerrit</projectName>
    <description>Integration with Gerrit</description>
    <workspaceName></workspaceName>
    <propertySheet>
      <property>
        <propertyName>ec_setup</propertyName>
        <value></value>
        <expandable>0</expandable>
      </property>
      <property>
        <propertyName>pseudo_code</propertyName>
        <description>Property sheet to hold pseudo code snippets</description>
        <propertySheet>
          <property>
            <propertyName>cmd_clone</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>cmd_overlay</propertyName>
            <description></description>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>cmd_revert</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>cmd_update</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>cmd_rules</propertyName>
            <description></description>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>repo_cmd</propertyName>
            <expandable>1</expandable>
            <value>repo</value>
          </property>
          <property>
            <propertyName>cmd_magic_dir</propertyName>
            <expandable>1</expandable>
            <value>.repo</value>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>ui_forms</propertyName>
        <description>Property sheet to hold xml specification for forms</description>
        <propertySheet>
          <property>
            <propertyName>GerritCreateConfigForm</propertyName>
            <expandable>1</expandable>
            <value></value>
          </property>
          <property>
            <propertyName>GerritEditConfigForm</propertyName>
            <description></description>
            <expandable>1</expandable>
            <value></value>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>procedure_helpers</propertyName>
        <description></description>
        <propertySheet>
          <property>
            <propertyName>preamble</propertyName>
            <description></description>
            <expandable>1</expandable>
            <value></value>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>scm_driver</propertyName>
        <description>Home for perl code</description>
        <propertySheet>
          <property>
            <propertyName>ECGerrit</propertyName>
            <description>ECGerrit.pm</description>
            <expandable>0</expandable>
            <value></value>
          </property>
        </propertySheet>
      </property>
      <property>
        <propertyName>ec_visibility</propertyName>
        <description></description>
        <expandable>1</expandable>
        <value>all</value>
      </property>
    </propertySheet>
    <procedure>
      <procedureName>CreateConfiguration</procedureName>
      <description>Create a Gerrit configuration</description>
      <jobNameTemplate>gerrit-cfg-$[jobId]</jobNameTemplate>
      <resourceName></resourceName>
      <workspaceName></workspaceName>
      <projectName>EC-Gerrit-1.0.0.0</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>cmdr_webserver</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>config</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>desc</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>devbuild_cmdr_procedure</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>devbuild_cmdr_project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>devbuild_mode</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>options</propertyName>
                      <propertySheet>
                        <property>
                          <propertyName>option1</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Auto</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>auto</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>option2</propertyName>
                          <propertySheet>
                            <property>
                              <propertyName>text</propertyName>
                              <expandable>1</expandable>
                              <value>Manual</value>
                            </property>
                            <property>
                              <propertyName>value</propertyName>
                              <expandable>1</expandable>
                              <value>manual</value>
                            </property>
                          </propertySheet>
                        </property>
                        <property>
                          <propertyName>optionCount</propertyName>
                          <expandable>1</expandable>
                          <value>2</value>
                        </property>
                        <property>
                          <propertyName>type</propertyName>
                          <expandable>1</expandable>
                          <value>list</value>
                        </property>
                      </propertySheet>
                    </property>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>gerrit_branch</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>gerrit_manifest</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>gerrit_server</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>ResourcePool</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>team_build_rules</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>debug</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>cmdr_webserver</formalParameterName>
        <defaultValue>localhost</defaultValue>
        <description>The ElectricCommander web server</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>config</formalParameterName>
        <defaultValue></defaultValue>
        <description>The configuration name</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>desc</formalParameterName>
        <defaultValue></defaultValue>
        <description>Description</description>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>devbuild_cmdr_procedure</formalParameterName>
        <defaultValue>DevBuild Example</defaultValue>
        <description>The ElectricCommander procedure to call when a devleoper changeset needs to be built</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>devbuild_cmdr_project</formalParameterName>
        <defaultValue>Gerrit Test</defaultValue>
        <description>The ElectricCommander project that contains the procedure to use when building individual changesets</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>devbuild_mode</formalParameterName>
        <defaultValue>manual</defaultValue>
        <description>Auto: Run the ElectricCommander procedure automatically for each changeset submitted&#10;Manual: Run the ElectricCommander procedure only when the link in Gerrit is clicked</description>
        <required>1</required>
        <type>select</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>ResourcePool</formalParameterName>
        <defaultValue></defaultValue>
        <description>The resource pool for Gerrit builds. The resources should have a property named "gerrit_working_dir" which is the location for the cached repo for that workspace.</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>gerrit_branch</formalParameterName>
        <defaultValue>master</defaultValue>
        <description>The branch to watch</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>gerrit_manifest</formalParameterName>
        <defaultValue>default.xml</defaultValue>
        <description>The manifest file to use for getting files</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>gerrit_server</formalParameterName>
        <defaultValue>ssh://user@host:29418</defaultValue>
        <description>The Gerrit server address</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>team_build_rules</formalParameterName>
        <defaultValue></defaultValue>
        <description>Filter rules for team build</description>
        <required>1</required>
        <type>textarea</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>debug</formalParameterName>
        <defaultValue>1</defaultValue>
        <description>debug level</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>CreateConfiguration</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use ElectricCommander;&#10;use ElectricCommander::PropDB;&#10;&#10;my $opts;&#10;&#10;my $PLUGIN_NAME = "EC-Gerrit";&#10;&#10;if (!defined $PLUGIN_NAME) {&#10;    print "PLUGIN_NAME must be defined\n";&#10;    exit 1;&#10;}&#10;&#10;## get an EC object&#10;my $ec = new ElectricCommander();&#10;$ec-&gt;abortOnError(0);&#10;&#10;## load option list from procedure parameters&#10;my $x = $ec-&gt;getJobDetails($ENV{COMMANDER_JOBID});&#10;my $nodeset = $x-&gt;find('//response/job/actualParameter');&#10;my $desc;&#10;foreach my $node ($nodeset-&gt;get_nodelist) {&#10;    my $parm = $node-&gt;findvalue('actualParameterName');&#10;    my $val = $node-&gt;findvalue('value');&#10;    if ("$parm" eq "desc") {&#10;        $desc = "$val";&#10;    }&#10;    else {&#10;        $opts-&gt;{$parm}="$val";&#10;    }&#10;}&#10;&#10;if (!defined $opts-&gt;{config} || "$opts-&gt;{config}" eq "" ) {&#10;    print "config parameter must exist and be non-blank\n";&#10;    exit 1;&#10;}&#10;&#10;# check to see if a config with this name already exists before we do anything else&#10;my $xpath = $ec-&gt;getProperty("/myProject/gerrit_cfgs/$opts-&gt;{config}");&#10;my $property = $xpath-&gt;findvalue("//response/property/propertyName");&#10;&#10;if (defined $property &amp;&amp; "$property" ne "") {&#10;    my $errMsg = "A configuration named '$opts-&gt;{config}' already exists.";&#10;    $ec-&gt;setProperty("/myJob/configError", $errMsg);&#10;    print $errMsg;&#10;    exit 1;&#10;}&#10;&#10;my $cfg = new ElectricCommander::PropDB($ec,"/myProject/gerrit_cfgs");&#10;&#10;# add all the options as properties&#10;foreach my $key (keys % {$opts}) {&#10;    if ("$key" eq "config" ) { &#10;        next;&#10;    }&#10;    $cfg-&gt;setCol("$opts-&gt;{config}","$key","$opts-&gt;{$key}");&#10;}&#10;$ec-&gt;modifyProperty("/myProject/gerrit_cfgs/$opts-&gt;{config}", {description =&gt; "$desc"});&#10;exit 0;&#10;</command>
        <condition></condition>
        <description>Create a Gerrit configuration</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusive>0</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>local</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit>5</timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>CreateConfiguration</procedureName>
        <projectName>EC-Gerrit-1.0.0.0</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>DeleteConfiguration</procedureName>
      <description>Delete a Gerrit configuration</description>
      <jobNameTemplate>gerrit-cfg-$[jobId]</jobNameTemplate>
      <resourceName></resourceName>
      <workspaceName></workspaceName>
      <projectName>EC-Gerrit-1.0.0.0</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>config</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>config</formalParameterName>
        <defaultValue></defaultValue>
        <description>The configuration name</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>DeleteConfiguration</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use ElectricCommander;&#10;use ElectricCommander::PropDB;&#10;&#10;my $opts;&#10;&#10;my $PLUGIN_NAME = "EC-Gerrit";&#10;&#10;if (!defined $PLUGIN_NAME) {&#10;    print "PLUGIN_NAME must be defined\n";&#10;    exit 1;&#10;}&#10;&#10;## get an EC object&#10;my $ec = new ElectricCommander();&#10;$ec-&gt;abortOnError(0);&#10;&#10;my $opts;&#10;$opts-&gt;{config} = "$[config]";&#10;&#10;if (!defined $opts-&gt;{config} || "$opts-&gt;{config}" eq "" ) {&#10;    print "config parameter must exist and be non-blank\n";&#10;    exit 1;&#10;}&#10;&#10;# check to see if a config with this name already exists before we do anything else&#10;my $xpath = $ec-&gt;getProperty("/myProject/gerrit_cfgs/$opts-&gt;{config}");&#10;my $property = $xpath-&gt;findvalue("//response/property/propertyName");&#10;&#10;if (!defined $property || "$property" eq "") {&#10;    my $errMsg = "Error: A configuration named '$opts-&gt;{config}' does not exist.";&#10;    $ec-&gt;setProperty("/myJob/configError", $errMsg);&#10;    print $errMsg;&#10;    exit 1;&#10;}&#10;&#10;$ec-&gt;deleteProperty("/myProject/gerrit_cfgs/$opts-&gt;{config}");&#10;exit 0;&#10;</command>
        <condition></condition>
        <description>Delete a Gerrit configuration</description>
        <errorHandling>failProcedure</errorHandling>
        <exclusive>0</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor>postp</postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>local</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit>5</timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>DeleteConfiguration</procedureName>
        <projectName>EC-Gerrit-1.0.0.0</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>DevBuildCleanup</procedureName>
      <description>Cleanup after one developer build. The working tree is cleaned up (runtime artifacts removed, change backed out).  This also marks the job as complete in Gerrit comments.</description>
      <jobNameTemplate>gerrit-$[jobId]</jobNameTemplate>
      <resourceName>local</resourceName>
      <workspaceName>default</workspaceName>
      <projectName>EC-Gerrit</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>branch</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>changeid</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>gerrit_cfg</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>patchid</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>changeid</formalParameterName>
        <defaultValue></defaultValue>
        <description>The change id to be built</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>gerrit_cfg</formalParameterName>
        <defaultValue>default</defaultValue>
        <description>The name of the config which holds all the connection information for Gerrit. </description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>patchid</formalParameterName>
        <defaultValue></defaultValue>
        <description>The patch set id to be built</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>annotate</stepName>
        <alwaysRun>1</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition></condition>
        <description>Annotate Gerrit to tell it the job has finished</description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusive>0</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>DevBuildCleanup</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>DevBuildPrepare</procedureName>
      <description>Prepare for a developer build. This will be one change.  The working tree will be adjusted to be the head of the branch plus changes in the change</description>
      <jobNameTemplate>gerrit-$[jobId]</jobNameTemplate>
      <resourceName>local</resourceName>
      <workspaceName>default</workspaceName>
      <projectName>EC-Gerrit</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>branch</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>changeid</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>gerrit_cfg</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>patchid</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>changeid</formalParameterName>
        <defaultValue></defaultValue>
        <description>The change id to be built</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>gerrit_cfg</formalParameterName>
        <defaultValue>default</defaultValue>
        <description>The name of the config which holds all the connection information for Gerrit. </description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>patchid</formalParameterName>
        <defaultValue></defaultValue>
        <description>The patch set id to be built</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>project</formalParameterName>
        <defaultValue></defaultValue>
        <description>The project that contains the change to build</description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>allocate</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command>use ElectricCommander;&#10;my $ec = new ElectricCommander();&#10;&#10;## hard coded for now&#10;$ec-&gt;setProperty("/myJob/git_resource", "GerritResource");&#10;exit 0;</command>
        <condition></condition>
        <description>Pick a resource for this run</description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusive>0</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName></resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>DevBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
      <step>
        <stepName>annotate</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition></condition>
        <description>If this job was launched manually, annotate Gerrit so it knows about the job</description>
        <errorHandling>abortJob</errorHandling>
        <exclusive>0</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>DevBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
      <step>
        <stepName>clone</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition></condition>
        <description>If needed, clone the remote repo in gerrit to a working directory then fetch contents. The tree should now be in sync with the head of the master.</description>
        <errorHandling>abortJob</errorHandling>
        <exclusive>1</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>DevBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
      <step>
        <stepName>revert</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition></condition>
        <description>Get tree in clean state before overlaying files</description>
        <errorHandling>abortJob</errorHandling>
        <exclusive>1</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>DevBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
      <step>
        <stepName>apply</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition></condition>
        <description>Get the changes from Gerrit and overlay on top of  local repostiory</description>
        <errorHandling>abortJob</errorHandling>
        <exclusive>1</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>DevBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
    </procedure>
  <procedure>
    <procedureName>DevBuild Example</procedureName>
    <description>An example of a developer build procedure.</description>
    <jobNameTemplate>gerrit-$[jobId]</jobNameTemplate>
    <resourceName>local</resourceName>
    <workspaceName>default</workspaceName>
    <projectName>EC-Gerrit-1.0.0.0</projectName>
    <propertySheet>
      <property>
        <propertyName>ec_customEditorData</propertyName>
        <propertySheet>
          <property>
            <propertyName>parameters</propertyName>
            <propertySheet>
              <property>
                <propertyName>branch</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>formType</propertyName>
                    <expandable>1</expandable>
                    <value>standard</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>changeid</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>formType</propertyName>
                    <expandable>1</expandable>
                    <value>standard</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>gerrit_cfg</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>formType</propertyName>
                    <expandable>1</expandable>
                    <value>standard</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>patchid</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>formType</propertyName>
                    <expandable>1</expandable>
                    <value>standard</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>project</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>formType</propertyName>
                    <expandable>1</expandable>
                    <value>standard</value>
                  </property>
                </propertySheet>
              </property>
              <property>
                <propertyName>resource</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>formType</propertyName>
                    <expandable>1</expandable>
                    <value>standard</value>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </property>
    </propertySheet>
    <formalParameter>
      <formalParameterName>changeid</formalParameterName>
      <defaultValue></defaultValue>
      <description>The change id to be built</description>
      <required>1</required>
      <type>entry</type>
    </formalParameter>
    <formalParameter>
      <formalParameterName>gerrit_cfg</formalParameterName>
      <defaultValue>default</defaultValue>
      <description>The name of the config which holds all the connection information for Gerrit. </description>
      <required>1</required>
      <type>entry</type>
    </formalParameter>
    <formalParameter>
      <formalParameterName>patchid</formalParameterName>
      <defaultValue></defaultValue>
      <description>The patch set id to be built</description>
      <required>1</required>
      <type>entry</type>
    </formalParameter>
    <formalParameter>
      <formalParameterName>project</formalParameterName>
      <defaultValue></defaultValue>
      <description>The project which contains the change</description>
      <required>1</required>
      <type>entry</type>
    </formalParameter>
    <step>
      <stepName>GetCodeFromGerrit</stepName>
      <alwaysRun>0</alwaysRun>
      <broadcast>0</broadcast>
      <condition></condition>
      <description>Run a test of Gerrit changes</description>
      <errorHandling>abortProcedure</errorHandling>
      <exclusive>0</exclusive>
      <parallel>0</parallel>
      <releaseExclusive>0</releaseExclusive>
      <resourceName></resourceName>
      <retries>0</retries>
      <subprocedure>DevBuildPrepare</subprocedure>
      <subproject>EC-Gerrit-1.0.0.0</subproject>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <actualParameters>
        <property>
          <propertyName>changeid</propertyName>
          <expandable>1</expandable>
          <value>$[changeid]</value>
        </property>
        <property>
          <propertyName>gerrit_cfg</propertyName>
          <expandable>1</expandable>
          <value>$[gerrit_cfg]</value>
        </property>
        <property>
          <propertyName>patchid</propertyName>
          <expandable>1</expandable>
          <value>$[patchid]</value>
        </property>
        <property>
          <propertyName>project</propertyName>
          <expandable>1</expandable>
          <value>$[project]</value>
        </property>
      </actualParameters>
      <procedureName>DevBuild Example</procedureName>
      <projectName>EC-Gerrit-1.0.0.0</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>procedure</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </step>
    <step>
      <stepName>DoWork</stepName>
      <alwaysRun>0</alwaysRun>
      <broadcast>0</broadcast>
      <command>print "Build and test\n";exit 0;</command>
      <condition></condition>
      <description>Do the build and test procedures</description>
      <errorHandling>abortProcedure</errorHandling>
      <exclusive>1</exclusive>
      <logFileName></logFileName>
      <parallel>0</parallel>
      <postProcessor></postProcessor>
      <releaseExclusive>0</releaseExclusive>
      <resourceName>$[/myJob/git_resource]</resourceName>
      <retries>0</retries>
      <shell>ec-perl</shell>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workingDirectory></workingDirectory>
      <workspaceName></workspaceName>
      <procedureName>DevBuild Example</procedureName>
      <projectName>Gerrit Test</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>command</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </step>
    <step>
      <stepName>GerritCleanup</stepName>
      <alwaysRun>1</alwaysRun>
      <broadcast>0</broadcast>
      <condition></condition>
      <description>Cleanup the Gerrit environment</description>
      <errorHandling>abortProcedure</errorHandling>
      <exclusive>0</exclusive>
      <parallel>0</parallel>
      <releaseExclusive>0</releaseExclusive>
      <resourceName></resourceName>
      <retries>0</retries>
      <subprocedure>DevBuildCleanup</subprocedure>
      <subproject>EC-Gerrit-1.0.0.0</subproject>
      <timeLimit></timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <actualParameters>
        <property>
          <propertyName>changeid</propertyName>
          <expandable>1</expandable>
          <value>$[changeid]</value>
        </property>
        <property>
          <propertyName>gerrit_cfg</propertyName>
          <expandable>1</expandable>
          <value>$[gerrit_cfg]</value>
        </property>
        <property>
          <propertyName>patchid</propertyName>
          <expandable>1</expandable>
          <value>$[patchid]</value>
        </property>
      </actualParameters>
      <procedureName>DevBuild Example</procedureName>
      <projectName>EC-Gerrit-1.0.0.0</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>procedure</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </step>
  </procedure>
    <procedure>
      <procedureName>TeamBuildCleanup</procedureName>
      <description>Mark the changes as approved if success</description>
      <jobNameTemplate>gerrit-$[jobId]</jobNameTemplate>
      <resourceName>local</resourceName>
      <workspaceName>default</workspaceName>
      <projectName>EC-Gerrit</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>branch</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>changeid</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>gerrit_cfg</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>patchid</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>gerrit_cfg</formalParameterName>
        <defaultValue>default</defaultValue>
        <description>The name of the config which holds all the connection information for Gerrit. </description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>project</formalParameterName>
        <defaultValue></defaultValue>
        <description>The Project for this build. If blank, all projects are considered.</description>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>allocate</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition></condition>
        <description>Pick a resource for this run</description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusive>0</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName></resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>TeamBuildCleanup</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
      <step>
        <stepName>approve</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition>$[/javascript myJob.gerrit_changes]</condition>
        <description>Get the changes from Gerrit and overlay on top of  local repostiory</description>
        <errorHandling>abortJob</errorHandling>
        <exclusive>1</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>TeamBuildCleanup</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
      <procedureName>TeamBuildPrepare</procedureName>
      <description>Create a tree in /myResource/gerrit_working_dir with the head of the branch and an overlay of all open Gerrit changes which match the configuration filters</description>
      <jobNameTemplate>gerrit-$[jobId]</jobNameTemplate>
      <resourceName>local</resourceName>
      <workspaceName>default</workspaceName>
      <projectName>EC-Gerrit</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>parameters</propertyName>
              <propertySheet>
                <property>
                  <propertyName>branch</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>changeid</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>gerrit_cfg</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>patchid</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>project</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
                <property>
                  <propertyName>resource</propertyName>
                  <propertySheet>
                    <property>
                      <propertyName>formType</propertyName>
                      <expandable>1</expandable>
                      <value>standard</value>
                    </property>
                  </propertySheet>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
      <formalParameter>
        <formalParameterName>gerrit_cfg</formalParameterName>
        <defaultValue>default</defaultValue>
        <description>The name of the config which holds all the connection information for Gerrit. </description>
        <required>1</required>
        <type>entry</type>
      </formalParameter>
      <formalParameter>
        <formalParameterName>project</formalParameterName>
        <defaultValue></defaultValue>
        <description>The Project for this build. If blank, all projects are considered.</description>
        <required>0</required>
        <type>entry</type>
      </formalParameter>
      <step>
        <stepName>allocate</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition></condition>
        <description>Pick a resource for this run</description>
        <errorHandling>abortProcedure</errorHandling>
        <exclusive>0</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName></resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>TeamBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
      <step>
        <stepName>changes</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition></condition>
        <description>Get the list of changes to be processed and save for rest of procedure.</description>
        <errorHandling>abortJob</errorHandling>
        <exclusive>1</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>TeamBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
      <step>
        <stepName>clone</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition>$[/javascript myJob.gerrit_changes]</condition>
        <description>If needed, clone the remote repo in gerrit to a working directory then fetch contents. The tree should now be in sync with the head of the master.</description>
        <errorHandling>abortJob</errorHandling>
        <exclusive>1</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>TeamBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
      <step>
        <stepName>revert</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition>$[/javascript myJob.gerrit_changes]</condition>
        <description>Get tree in clean state before overlaying files</description>
        <errorHandling>abortJob</errorHandling>
        <exclusive>1</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>TeamBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
      <step>
        <stepName>apply</stepName>
        <alwaysRun>0</alwaysRun>
        <broadcast>0</broadcast>
        <command></command>
        <condition>$[/javascript myJob.gerrit_changes]</condition>
        <description>Get the changes from Gerrit and overlay on top of  local repostiory</description>
        <errorHandling>abortJob</errorHandling>
        <exclusive>1</exclusive>
        <logFileName></logFileName>
        <parallel>0</parallel>
        <postProcessor></postProcessor>
        <releaseExclusive>0</releaseExclusive>
        <resourceName>$[/myJob/git_resource]</resourceName>
        <retries>0</retries>
        <shell>ec-perl</shell>
        <timeLimit></timeLimit>
        <timeLimitUnits>minutes</timeLimitUnits>
        <workingDirectory></workingDirectory>
        <workspaceName></workspaceName>
        <procedureName>TeamBuildPrepare</procedureName>
        <projectName>EC-Gerrit</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>formType</propertyName>
                <expandable>1</expandable>
                <value>command</value>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
      </step>
    </procedure>
    <procedure>
        <procedureName>TeamBuildExample</procedureName>
        <description>A sample Team Build procedure.</description>
        <jobNameTemplate>gerrit-$[jobId]</jobNameTemplate>
        <resourceName>local</resourceName>
        <workspaceName>default</workspaceName>
        <projectName>/plugins/EC-Gerrit/project</projectName>
        <propertySheet>
          <property>
            <propertyName>ec_customEditorData</propertyName>
            <propertySheet>
              <property>
                <propertyName>parameters</propertyName>
                <propertySheet>
                  <property>
                    <propertyName>branch</propertyName>
                    <propertySheet>
                      <property>
                        <propertyName>formType</propertyName>
                        <expandable>1</expandable>
                        <value>standard</value>
                      </property>
                    </propertySheet>
                  </property>
                  <property>
                    <propertyName>changeid</propertyName>
                    <propertySheet>
                      <property>
                        <propertyName>formType</propertyName>
                        <expandable>1</expandable>
                        <value>standard</value>
                      </property>
                    </propertySheet>
                  </property>
                  <property>
                    <propertyName>gerrit_cfg</propertyName>
                    <propertySheet>
                      <property>
                        <propertyName>formType</propertyName>
                        <expandable>1</expandable>
                        <value>standard</value>
                      </property>
                    </propertySheet>
                  </property>
                  <property>
                    <propertyName>patchid</propertyName>
                    <propertySheet>
                      <property>
                        <propertyName>formType</propertyName>
                        <expandable>1</expandable>
                        <value>standard</value>
                      </property>
                    </propertySheet>
                  </property>
                  <property>
                    <propertyName>project</propertyName>
                    <propertySheet>
                      <property>
                        <propertyName>formType</propertyName>
                        <expandable>1</expandable>
                        <value>standard</value>
                      </property>
                    </propertySheet>
                  </property>
                  <property>
                    <propertyName>resource</propertyName>
                    <propertySheet>
                      <property>
                        <propertyName>formType</propertyName>
                        <expandable>1</expandable>
                        <value>standard</value>
                      </property>
                    </propertySheet>
                  </property>
                </propertySheet>
              </property>
            </propertySheet>
          </property>
        </propertySheet>
        <formalParameter>
          <formalParameterName>gerrit_cfg</formalParameterName>
          <defaultValue>default</defaultValue>
          <description>The name of the config which holds all the connection information for Gerrit. </description>
          <required>1</required>
          <type>entry</type>
        </formalParameter>
        <formalParameter>
          <formalParameterName>project</formalParameterName>
          <defaultValue></defaultValue>
          <description>The project which contains the change</description>
          <required>0</required>
          <type>entry</type>
        </formalParameter>
        <step>
          <stepName>GetCodeFromGerrit</stepName>
          <alwaysRun>0</alwaysRun>
          <broadcast>0</broadcast>
          <condition></condition>
          <description>Run a test of Gerrit changes</description>
          <errorHandling>failProcedure</errorHandling>
          <exclusive>0</exclusive>
          <parallel>0</parallel>
          <releaseExclusive>0</releaseExclusive>
          <resourceName></resourceName>
          <retries>0</retries>
          <subprocedure>TeamBuildPrepare</subprocedure>
          <subproject>/plugins/EC-Gerrit/project</subproject>
          <timeLimit></timeLimit>
          <timeLimitUnits>minutes</timeLimitUnits>
          <actualParameters>
            <property>
              <propertyName>gerrit_cfg</propertyName>
              <expandable>1</expandable>
              <value>$[gerrit_cfg]</value>
            </property>
            <property>
              <propertyName>project</propertyName>
              <expandable>1</expandable>
              <value>$[project]</value>
            </property>
          </actualParameters>
          <procedureName>TeamBuildExample</procedureName>
          <projectName>/plugins/EC-Gerrit/project</projectName>
          <propertySheet>
            <property>
              <propertyName>ec_customEditorData</propertyName>
              <propertySheet>
                <property>
                  <propertyName>formType</propertyName>
                  <expandable>1</expandable>
                  <value>procedure</value>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </step>
        <step>
          <stepName>DoWork</stepName>
          <alwaysRun>0</alwaysRun>
          <broadcast>0</broadcast>
          <command>print "Build and test\n";exit 0;</command>
          <condition></condition>
          <description>Do the build and test procedures</description>
          <errorHandling>failProcedure</errorHandling>
          <exclusive>1</exclusive>
          <logFileName></logFileName>
          <parallel>0</parallel>
          <postProcessor></postProcessor>
          <releaseExclusive>0</releaseExclusive>
          <resourceName>$[/myJob/git_resource]</resourceName>
          <retries>0</retries>
          <shell>ec-perl</shell>
          <timeLimit></timeLimit>
          <timeLimitUnits>minutes</timeLimitUnits>
          <workingDirectory></workingDirectory>
          <workspaceName></workspaceName>
          <procedureName>gerritTeamBuild</procedureName>
          <projectName>/plugins/EC-Gerrit/project</projectName>
          <propertySheet>
            <property>
              <propertyName>ec_customEditorData</propertyName>
              <propertySheet>
                <property>
                  <propertyName>formType</propertyName>
                  <expandable>1</expandable>
                  <value>command</value>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </step>
        <step>
          <stepName>GerritCleanup</stepName>
          <alwaysRun>1</alwaysRun>
          <broadcast>0</broadcast>
          <condition></condition>
          <description>Cleanup the Gerrit environment</description>
          <errorHandling>failProcedure</errorHandling>
          <exclusive>0</exclusive>
          <parallel>0</parallel>
          <releaseExclusive>0</releaseExclusive>
          <resourceName></resourceName>
          <retries>0</retries>
          <subprocedure>TeamBuildCleanup</subprocedure>
          <subproject>/plugins/EC-Gerrit/project</subproject>
          <timeLimit></timeLimit>
          <timeLimitUnits>minutes</timeLimitUnits>
          <actualParameters>
            <property>
              <propertyName>gerrit_cfg</propertyName>
              <expandable>1</expandable>
              <value>$[gerrit_cfg]</value>
            </property>
            <property>
              <propertyName>project</propertyName>
              <expandable>1</expandable>
              <value>$[project]</value>
            </property>
          </actualParameters>
          <procedureName>gerritTeamBuild</procedureName>
          <projectName>Gerrit Test</projectName>
          <propertySheet>
            <property>
              <propertyName>ec_customEditorData</propertyName>
              <propertySheet>
                <property>
                  <propertyName>formType</propertyName>
                  <expandable>1</expandable>
                  <value>procedure</value>
                </property>
              </propertySheet>
            </property>
          </propertySheet>
        </step>
    </procedure>
  <procedure>
    <procedureName>DeveloperScan</procedureName>
    <description>Scan the Gerrit server for any new changes and process them</description>
    <jobNameTemplate>gerrit-scan-$[jobId]</jobNameTemplate>
    <resourceName>local</resourceName>
    <workspaceName></workspaceName>
    <projectName>EC-Gerrit-1.0.0.0</projectName>
    <propertySheet>
    </propertySheet>
    <step>
      <stepName>scan</stepName>
      <alwaysRun>0</alwaysRun>
      <broadcast>0</broadcast>
      <command></command>
      <condition></condition>
      <description>Scan the Gerrit server</description>
      <errorHandling>failProcedure</errorHandling>
      <exclusive>0</exclusive>
      <logFileName></logFileName>
      <parallel>0</parallel>
      <postProcessor>postp</postProcessor>
      <releaseExclusive>0</releaseExclusive>
      <resourceName>local</resourceName>
      <retries>0</retries>
      <shell>ec-perl</shell>
      <timeLimit>12</timeLimit>
      <timeLimitUnits>minutes</timeLimitUnits>
      <workingDirectory></workingDirectory>
      <workspaceName></workspaceName>
      <procedureName>DeveloperScan</procedureName>
      <projectName>EC-Gerrit-1.0.0.0</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>command</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </step>
  </procedure>
    <schedule>
      <scheduleName>Gerrit New Change Scanner</scheduleName>
      <beginDate></beginDate>
      <description>Scan the gerrit server for changes</description>
      <endDate></endDate>
      <interval>15</interval>
      <intervalUnits>minutes</intervalUnits>
      <misfirePolicy>ignore</misfirePolicy>
      <monthDays></monthDays>
      <priority>normal</priority>
      <procedureName>DeveloperScan</procedureName>
      <scheduleDisabled>0</scheduleDisabled>
      <startTime></startTime>
      <stopTime></stopTime>
      <timeZone>America/Los_Angeles</timeZone>
      <weekDays></weekDays>
      <projectName>EC-Gerrit</projectName>
      <propertySheet>
        <property>
          <propertyName>ec_customEditorData</propertyName>
          <propertySheet>
            <property>
              <propertyName>formType</propertyName>
              <expandable>1</expandable>
              <value>standard</value>
            </property>
          </propertySheet>
        </property>
      </propertySheet>
    </schedule>
  </project>
</exportedData>
